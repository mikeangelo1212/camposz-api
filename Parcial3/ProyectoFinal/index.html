<!DOCTYPE html>
<html lang="en">
  <head>
        <title>Garfield API</title>
  </head>
  <body>
    <input id="imagenid" type="text"><br>
    <button id="boton">Picale para funcionar</button><br>
    <img id="imagen" alt="Donde esta mi imagen Garfield" width="50%" height="50%" src="./Garfield-Comic-Strips/1970s/1978/ga781227.gif">
      

    <script>
      //aqui agarramos el boton de abrir imagen y le damos un listener para cuando se le pique
      document.getElementById('boton').addEventListener('click',function(){
        cargarImagen();
        });
      //cargarImagen();
      consolaImagen();

      async function consolaImagen()
      {
        console.log("perro estupido");
        const urlGarf=await fetch("http://localhost:8081/1");//aqui le hacemos fetch a nuestra api
        const resultGarf=await urlGarf.json();
        console.log(resultGarf)  
      }
      
       
      
      
      async function cargarImagen()
      {
        var id = document.getElementById('imagenid').value
        fetch("http://localhost:8081/"+id)//aqui le hacemos fetch a nuestra api por medio del boton
        .then(res => res.json())
        .then(data=>document.getElementById('imagen').src=data);
      }
     
      </script>
  </body>
</html>